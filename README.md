# C64x+ DSP Loop Optimization Examples

> ⚠️ **本リポジトリは、TI C64x+ DSPを対象とした最適化技法の理解・研究を目的とした個人実装です。**
> 実機による完全な動作検証は行っておらず、性能や動作の正当性を保証するものではありません。

---

## 概要（Overview）

TIのC64x+ DSP向けに、ループカーネルの最適化（SIMD命令化、ソフトウェアパイプライニング、VLIW命令スケジューリング等）を段階的に適用した実装例を示します。  
目的は、**手動アセンブリによる性能限界の探究**と、**コンパイラ最適化の振る舞いの理解**です。

---

## 環境（Development Environment）

- **IDE**: Code Composer Studio v7.4.0.00015  
- **ターゲット**: Generic C64X+ Device  
- **ABI準拠レジスタ**:
  - A0–A15, B0–B15: 汎用整数レジスタ
  - A4–A7, B4–B7: 関数引数・戻り値に使用
  - B3: 戻りアドレス（リンクレジスタ）
  - SP: スタックポインタ
  - FP: フレームポインタ

---

## カーネル実装と比較（Loop Kernel Implementations）

| 実装名 | 説明                         | 備考 |
|--------|------------------------------|------|
| `intrinsic.c` | TIインライン関数を用いたSIMD演算 | `__dotp4`, `__add4` など |
| `asm1.asm`    | 基本的なアセンブラ実装             | 最低限のレジスタ割付 |
| `asm2.asm`    | Software Pipelining適用           | ディペンデンシ解消 |
| `asm3.asm`    | スケジューリング・命令束化最適化版 | VLIW命令を最大活用 |

※ サイクル数は `.asm` ファイル末尾に注記予定。

---

## 実装のポイント（Optimization Techniques）

- **8-issue VLIWアーキテクチャ**を意識した命令束化（`.unit` 指定）
- **依存性回避と命令再配置**によるILP（命令レベル並列性）の最大化
- **ループアンローリング**と**レジスタリネーミング**
- **Load/Storeスロットの配置と遅延スロットの活用**
- **ソフトウェアパイプライニング**（Software Pipelining）を手動適用
